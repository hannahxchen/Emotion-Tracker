<% include partials/head %>
<title>會員註冊</title>
<script type="text/javascript" src="/bower_components/webcamjs/webcam.min.js"></script>
<script type="text/javascript" src="/js/webcam-functions.js"></script>
<script src="/js/libs/date.format.js"></script>
<script src="/js/libs/jquery-dropdate.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mobile-detect/1.3.7/mobile-detect.min.js"></script>
<link href="/css/webcam.css" rel="stylesheet">
<style>
.container {
  margin-top: 60px;
}
</style>
<head/>
<body>
  <% include partials/navbar %>

  <div class="container" style="max-width: 600px;">

    <% if (!img_error=='') {%>
      <div class="alert alert-danger"><%= img_error %></div>
    <% } %>

    <% if(errors) {%>
      <% errors.forEach(function(error){ %>
        <div class="alert alert-danger"><%= error.msg %></div>
      <% }); %>
    <% } %>

    <div class="alert alert-info" style="display: none;">處理中......請稍後</div>

    <h2 class="text-center">使用者註冊</h2>

    <div id="my_camera"></div>

    <div id="results" style="display: none;"></div>

    <div id="pre_take_buttons">
      <input type=button value="拍照" onClick="preview_snapshot()" id="shot">
    </div>
    <div id="post_take_buttons" style="display:none">
      <input type=button value="重拍" onClick="cancel_preview()" id="reshot">
    </div>



    <form id="signup-form" method="post" action="/register" style="margin-top: 20px;">
      <input type="text" style="display: none" id="img" name="img" />
      <div class="form-group">
        <label>姓名</label>
        <input type="text" class="form-control" placeholder="姓名" id="name" name="name">
      </div>
      <div class="form-group">
        <label>學號</label>
        <input type="text" class="form-control" placeholder="帳號" id="username" name="username">
      </div>
      <div class="form-group">
        <label>密碼</label>
        <input type="password" class="form-control" placeholder="密碼" id="password" name="password">
      </div>
      <div class="form-group">
        <label>確認密碼</label>
        <input type="password" class="form-control" placeholder="密碼" name="password2">
      </div>
      <div class="form-group">
        <label>性別</label><br>
        <select name="gender">
          <option value=""></option>
          <option value="F">女</option>
          <option value="M">男</option>
        </select>
      </div>
      <div class="form-group">
        <label>註冊身分</label><br>
        <select name="role">
          <option value=""></option>
          <option value="elder">一般使用者</option>
          <option value="relative">家屬</option>
        </select>
      </div>
      <div class="form-group">
        <label>生日</label><br>
        <input type="text" name="birthday" value="" class="dropdate">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" class="form-control" placeholder="Email" id="email" name="email">
      </div>
      <button id="submit" type="submit" class="btn btn-default">註冊</button>
    </form>
  </div>

  <!--<div id="results"></div>-->

  <script type="text/javascript" src="/js/register.js"></script>

</div>
<% include partials/footer %>
<script>
  $('#submit').click(function(){
    $("html, body").animate({ scrollTop: 0 }, "slow");
    $('.alert-info').show();
  });
</script>

</body>
