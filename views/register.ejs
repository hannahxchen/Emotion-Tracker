<% include partials/head %>
<title>Register</title>
<script type="text/javascript" src="/js/libs/webcamjs/webcam.min.js"></script>
<script type="text/javascript" src="/js/webcam-functions.js"></script>
<script src="/js/libs/date.format.js"></script>
<script src="/js/libs/jquery-dropdate.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="/js/register.js"></script>
<link href="/css/webcam.css" rel="stylesheet">
<head/>
<body>
  <% include partials/navbar %>

  <div class="container">

    <% if (!img_error=='') {%>
      <div class="alert alert-danger"><%= img_error %></div>
    <% } %>

    <% if(errors) {%>
      <% errors.forEach(function(error){ %>
        <div class="alert alert-danger"><%= error.msg %></div>
      <% }); %>
    <% } %>

    <h2 class="text-center">使用者註冊</h2>
    <div id="my_camera"></div>

    <div id="pre_take_buttons">
      <input type=button value="拍照" onClick="preview_snapshot()" id="shot">
    </div>
    <div id="post_take_buttons" style="display:none">
      <input type=button value="重拍" onClick="cancel_preview()" id="reshot">
    </div>

    <form id="signup-form" method="post" action="/register">
      <input type="text" style="display: none" id="img" name="img" />
      <input type="text" style="display: none" id="ifshot" name="ifshot" />
      <div class="form-group">
        <label>姓名</label>
        <input type="text" class="form-control" placeholder="姓名" id="name" name="name">
      </div>
      <div class="form-group">
        <label>帳號</label>
        <input type="text" class="form-control" placeholder="帳號" id="username" name="username">
      </div>
      <div class="form-group">
        <label>密碼</label>
        <input type="password" class="form-control" placeholder="密碼" id="password" name="password">
      </div>
      <div class="form-group">
        <label>確認密碼</label>
        <input type="password" class="form-control" placeholder="密碼" name="password2">
      </div>
      <div class="form-group">
        <label>性別</label><br>
        <select name="gender">
          <option value=""></option>
          <option value="F">女</option>
          <option value="M">男</option>
        </select>
      </div>
      <div class="form-group">
        <label>註冊身分</label><br>
        <select name="role">
          <option value=""></option>
          <option value="elder">一般使用者</option>
          <option value="relative">家屬</option>
        </select>
      </div>
      <div class="form-group">
        <label>生日</label><br>
        <input type="text" name="birthday" value="" class="dropdate">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" class="form-control" placeholder="Email" id="email" name="email">
      </div>
      <button id="submit" type="submit" class="btn btn-default">註冊</button>
    </form>
  </div>

  <!--<div id="results"></div>-->

  <script type="text/javascript" src="/js/webcam-settings.js"></script>

</div>
<% include partials/footer %>

</body>
